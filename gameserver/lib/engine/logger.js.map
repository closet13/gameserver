{"version":3,"sources":["../../src/engine/logger.js"],"names":[],"mappings":";;;;;;;;;;;;;;AAKA,IAAI,SAAS,QAAQ,aAAR,CAAT;AACJ,IAAI,QAAQ,QAAQ,OAAR,CAAR;AACJ,IAAI,SAAS,QAAQ,QAAR,CAAT;AACJ,IAAI,UAAU,QAAQ,SAAR,CAAV;AACJ,IAAI,MAAM,QAAQ,GAAR,CAAY,KAAZ;AACV,MAAO,OAAO,GAAP,KAAe,QAAf,IAA2B,IAAI,OAAJ,CAAY,KAAZ,KAAsB,CAAC,CAAD;;IAGlD;AACF,aADE,MACF,CAAY,IAAZ,EAAkB;8BADhB,QACgB;;AACd,aAAK,IAAL,GAAY,IAAZ,CADc;AAEd,aAAK,GAAL,GAAW,MAAM,QAAQ,IAAR,CAAjB,CAFc;KAAlB;;iBADE;;iCAMO,MAAM,MAAM;AACjB,gBAAI,CAAC,GAAD,EACA,OADJ;AAEA,gBAAI,MAAM,CAAC,KAAK,WAAL,CAAiB,IAAjB,CAAD,CAAN,CAHa;;AAKjB,6BAAE,OAAF,CAAU,IAAV,EAAgB,UAAC,EAAD,EAAO;AACnB,oBAAI,IAAJ,CAAS,EAAT,EADmB;aAAP,CAAhB,CALiB;;AASjB,oBAAQ,GAAR,CAAY,KAAZ,CAAkB,IAAlB,EAAwB,GAAxB,EATiB;;;;6BAYhB,KAAK;AACN,iBAAK,QAAL,CAAc,MAAd,EAAsB,SAAtB,EADM;;;;6BAKL,KAAK;;AAEN,iBAAK,QAAL,CAAc,MAAd,EAAsB,SAAtB,EAFM;;;;8BAKJ,KAAK;;AAEP,iBAAK,QAAL,CAAc,MAAd,EAAsB,SAAtB,EAFO;;;;8BAKL,KAAmB;gBAAd,8DAAQ,oBAAM;;AACrB,gBAAI,KAAJ,EAAW;AACP,sBAAM,MAAM,GAAN,GAAY,IAAI,KAAJ,GAAY,KAAZ,CADX;aAAX;AAGA,iBAAK,GAAL,CAAS,KAAK,WAAL,CAAiB,GAAjB,EAAsB,OAAO,GAAP,CAAW,MAAX,CAAtB,CAAT,EAJqB;;;;oCAQb,MAAM;AACd,gBAAI,IAAI,IAAI,MAAJ,GAAa,MAAb,CAAoB,OAApB,CAAJ,CADU;AAEd,mBAAU,UAAK,KAAK,MAAL,CAAY,CAAZ,EAAc,CAAd,EAAiB,WAAjB,WAAkC,KAAK,IAAL,OAAjD,CAFc;;;;WAzChB;;;AAgDN,OAAO,OAAP,CAAe,MAAf,GAAwB,MAAxB","file":"logger.js","sourcesContent":["/**\r\n * Created by santi8ago8 on 09/03/15.\r\n */\r\n\r\nimport _ from 'lodash';\r\nvar colors = require('colors/safe');\r\nvar debug = require('debug');\r\nvar moment = require('moment');\r\nvar process = require('process');\r\nvar log = process.env.DEBUG;\r\nlog = (typeof log === 'string' && log.indexOf('gs:') != -1);\r\n\r\n\r\nclass Logger {\r\n    constructor(name) {\r\n        this.name = name;\r\n        this.deb = debug('gs:' + name);\r\n    }\r\n\r\n    _process(type, args) {\r\n        if (!log)\r\n            return;\r\n        var els = [this.addTemplate(type)];\r\n\r\n        _.forEach(args, (it)=> {\r\n            els.push(it);\r\n        });\r\n\r\n        console.log.apply(this, els);\r\n    }\r\n\r\n    info(msg) {\r\n        this._process('info', arguments);\r\n    }\r\n\r\n\r\n    warn(msg) {\r\n        //this.deb(this.addTemplate(msg, colors.yellow('warn')));\r\n        this._process('warn', arguments);\r\n    }\r\n\r\n    debug(msg) {\r\n        //this.deb(this.addTemplate(msg, colors.blue('debu')));\r\n        this._process('debu', arguments);\r\n    }\r\n\r\n    error(msg, stack = true) {\r\n        if (stack) {\r\n            msg = msg + \" \" + new Error().stack;\r\n        }\r\n        this.deb(this.addTemplate(msg, colors.red('erro')));\r\n\r\n    }\r\n\r\n    addTemplate(type) {\r\n        var m = new moment().format('HH:mm');\r\n        return `${m} ${type.substr(0,1).toUpperCase()}:${this.name} >`;\r\n    }\r\n\r\n}\r\n\r\nmodule.exports.Logger = Logger;"]}